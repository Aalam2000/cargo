{% extends "base.html" %}
{% load static %}
{% block content %}

    <link rel="stylesheet" href="{% static 'css/table.css' %}">
    <script defer src="{% static 'js/home.js' %}"></script>

    <div class="cargo-table-page">

        <div class="table-header-container">
            <h3>–ì–ª–∞–≤–Ω–∞—è</h3>
        </div>

        <meta name="user-role" content="{{ role }}">

        <!-- –ë–∞–ª–∞–Ω—Å -->
        <div id="client-balance" class="balance-box hidden">
            <div class="balance-label">üí∞ –û–ø–ª–∞—á–µ–Ω–æ:</div>
            <div id="balance-value" class="balance-value">‚Äî</div>
        </div>

        <!-- –§–∏–ª—å—Ç—Ä -->
        <div class="filter-bar global-filters">
            <input id="clientFilter" class="input-filter" placeholder="–ö–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞"
                   type="text" oninput="updateClientBalance(this.value)">
        </div>
        <!-- –í–∫–ª–∞–¥–∫–∏ -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="in_transit">üöö –í –ø—É—Ç–∏</button>
            <button class="tab-btn" data-tab="delivered">üì¶ –î–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ</button>
            <button class="tab-btn" data-tab="payments">üí≥ –û–ø–ª–∞—Ç—ã</button>
        </div>


        <!-- ====================== –í –ü–£–¢–ò (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è) ====================== -->
        <div id="tab-in_transit" class="tab-content active">

            <div class="filter-bar">
                <input id="productFilter_in_transit" class="input-filter" placeholder="–ù–æ–º–µ—Ä —Ç–æ–≤–∞—Ä–∞" type="text">
            </div>

            <div class="table-card table-container">
                <div class="table-wrapper" data-tab="in_transit">
                    <!-- –¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤ JS -->
                    <table id="table_in_transit" class="table"></table>
                    <div id="loader_in_transit" class="loader hidden"></div>
                </div>
            </div>
        </div>


        <!-- ====================== –î–û–°–¢–ê–í–õ–ï–ù–ù–´–ï (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è) ====================== -->
        <div id="tab-delivered" class="tab-content">

            <div class="filter-bar">
                <input id="productFilter_delivered" class="input-filter" placeholder="–ù–æ–º–µ—Ä —Ç–æ–≤–∞—Ä–∞" type="text">
            </div>

            <div class="table-card table-container">
                <div class="table-wrapper" data-tab="delivered">
                    <!-- –¢–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤ JS -->
                    <table id="table_delivered" class="table"></table>
                    <div id="loader_delivered" class="loader hidden"></div>
                </div>
            </div>

        </div>


        <!-- ====================== –û–ü–õ–ê–¢–´ ====================== -->
        <div id="tab-payments" class="tab-content">
            {% if role in "Admin Operator" %}
                <div class="table-header-container">
                    <h3>–û–ø–ª–∞—Ç—ã</h3>
                    <button id="btnAddPayment" class="btn-table">–û–ø–ª–∞—Ç–∞</button>
                    <button id="settings-btn" class="settings-button" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
                </div>
            {% endif %}
            <div class="table-card table-container">
                <div class="table-wrapper" data-tab="payments">
                    <table class="table">
                        <thead id="payments_head"></thead>
                        <tbody id="tbody_payments"></tbody>
                    </table>
                    <div id="loader_payments" class="loader hidden"></div>
                </div>
            </div>
        </div>

    </div>

{% endblock %}
