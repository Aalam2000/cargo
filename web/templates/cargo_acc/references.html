{% extends 'base.html' %}
{% load static %}

{% block title %}–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏{% endblock %}

{% block content %}
    <link rel="stylesheet" href="{% static 'css/table.css' %}">

    <div class="cargo-table-page">
        <div class="table-header-container">
            <h3>üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏</h3>
        </div>

        <div class="refs-stack">

            {# === –ë–ª–æ–∫ —Å –∫–æ–º–ø–∞–Ω–∏–µ–π (Admin/Operator) === #}
            {% if user.role == 'Admin' or user.role == 'Operator' %}
                <div class="table-card table-container">
                    <div class="table-card-header">
                        <h4>–ö–æ–º–ø–∞–Ω–∏—è: {{ company_name }}</h4>
                        <button class="btn-table" id="btn-company-settings">–û—Ç–∫—Ä—ã—Ç—å</button>
                    </div>
                </div>
            {% endif %}

            {# === –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ === #}

            <div class="table-card table-container"
                 data-model="warehouses"
                 data-api="/api/table/warehouses/"
                 data-fields="name,address"
                 data-page-size="10">

                <div class="table-card-header">
                    <h4>–°–∫–ª–∞–¥—ã</h4>
                    {% if user.role == 'Admin' or user.role == 'Operator' %}
                        <button class="btn-table btn-add" data-action="add-record">–î–æ–±–∞–≤–∏—Ç—å</button>
                    {% endif %}
                </div>

                <input type="text" class="input-filter" placeholder="–ü–æ–∏—Å–∫..." data-filter>

                <div class="table-wrapper">
                    <table class="table dynamic-table"></table>
                </div>
            </div>


            <div class="table-card table-container"
                 data-model="cargo-types"
                 data-api="/api/table/cargo-types/"
                 data-fields="name,description"
                 data-page-size="10">

                <div class="table-card-header">
                    <h4>–¢–∏–ø—ã –≥—Ä—É–∑–æ–≤</h4>
                    {% if user.role == 'Admin' or user.role == 'Operator' %}
                        <button class="btn-table btn-add" data-action="add-record">–î–æ–±–∞–≤–∏—Ç—å</button>
                    {% endif %}
                </div>

                <input type="text" class="input-filter" placeholder="–ü–æ–∏—Å–∫..." data-filter>

                <div class="table-wrapper">
                    <table class="table dynamic-table"></table>
                </div>
            </div>


            <div class="table-card table-container"
                 data-model="cargo-statuses"
                 data-api="/api/table/cargo-statuses/"
                 data-fields="name,description"
                 data-page-size="10">

                <div class="table-card-header">
                    <h4>–°—Ç–∞—Ç—É—Å—ã –≥—Ä—É–∑–æ–≤</h4>
                    {% if user.role == 'Admin' or user.role == 'Operator' %}
                        <button class="btn-table btn-add" data-action="add-record">–î–æ–±–∞–≤–∏—Ç—å</button>
                    {% endif %}
                </div>

                <input type="text" class="input-filter" placeholder="–ü–æ–∏—Å–∫..." data-filter>

                <div class="table-wrapper">
                    <table class="table dynamic-table"></table>
                </div>
            </div>


            <div class="table-card table-container"
                 data-model="packaging-types"
                 data-api="/api/table/packaging-types/"
                 data-fields="name,description"
                 data-page-size="10">

                <div class="table-card-header">
                    <h4>–¢–∏–ø—ã —É–ø–∞–∫–æ–≤–∫–∏</h4>
                    {% if user.role == 'Admin' or user.role == 'Operator' %}
                        <button class="btn-table btn-add" data-action="add-record">–î–æ–±–∞–≤–∏—Ç—å</button>
                    {% endif %}
                </div>

                <input type="text" class="input-filter" placeholder="–ü–æ–∏—Å–∫..." data-filter>

                <div class="table-wrapper">
                    <table class="table dynamic-table"></table>
                </div>
            </div>

            <div class="table-card table-container"
                 data-model="accrual-types"
                 data-api="/api/table/accrual-types/"
                 data-fields="name,description,default_amount"
                 data-page-size="10">

                <div class="table-card-header">
                    <h4>–í–∏–¥—ã –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π</h4>
                    {% if user.role == 'Admin' or user.role == 'Operator' %}
                        <button class="btn-table btn-add" data-action="add-record">–î–æ–±–∞–≤–∏—Ç—å</button>
                    {% endif %}
                </div>

                <input type="text" class="input-filter" placeholder="–ü–æ–∏—Å–∫..." data-filter>

                <div class="table-wrapper">
                    <table class="table dynamic-table"></table>
                </div>
            </div>

            <div class="table-card table-container"
                 data-model="payment-types"
                 data-api="/api/table/payment-types/"
                 data-fields="name,description"
                 data-page-size="10">

                <div class="table-card-header">
                    <h4>–¢–∏–ø—ã –æ–ø–ª–∞—Ç</h4>
                    {% if user.role == 'Admin' or user.role == 'Operator' %}
                        <button class="btn-table btn-add" data-action="add-record">–î–æ–±–∞–≤–∏—Ç—å</button>
                    {% endif %}
                </div>

                <input type="text" class="input-filter" placeholder="–ü–æ–∏—Å–∫..." data-filter>

                <div class="table-wrapper">
                    <table class="table dynamic-table"></table>
                </div>
            </div>

            <div class="table-card table-container"
                 data-model="tariffs"
                 data-api="/api/table/tariffs/"
                 data-fields="name,cargo_type,calc_mode,base_rate,packaging_rate,insurance_percent,minimal_cost"
                 data-page-size="10">

                <div class="table-card-header">
                    <h4>–¢–∞—Ä–∏—Ñ—ã</h4>
                    {% if user.role == 'Admin' or user.role == 'Operator' %}
                        <button class="btn-table btn-add" data-action="add-record">–î–æ–±–∞–≤–∏—Ç—å</button>
                    {% endif %}
                </div>

                <input type="text" class="input-filter" placeholder="–ü–æ–∏—Å–∫..." data-filter>

                <div class="table-wrapper">
                    <table class="table dynamic-table"></table>
                </div>
            </div>

            <div class="table-card table-container"
                 data-model="currency-rates"
                 data-api="/api/table/currency-rates/"
                 data-fields="date,currency,rate,custom_rate,conversion_percent"
                 data-page-size="10">

                <div class="table-card-header">
                    <h4>–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç</h4>
                    {% if user.role == 'Admin' %}
                        <button class="btn-table btn-add" data-action="add-record">–î–æ–±–∞–≤–∏—Ç—å</button>
                    {% endif %}
                </div>

                <input type="text" class="input-filter" placeholder="–ü–æ–∏—Å–∫..." data-filter>

                <div class="table-wrapper">
                    <table class="table dynamic-table"></table>
                </div>
            </div>

        </div>
    </div>

    <div id="refs-modal-root"></div>

    <script>
        window.USER_COMPANY_ID = {{ company_id }};
    </script>
    <script>
        window.USER_COMPANY_NAME = "{{ company_name }}";
    </script>

    <script src="{% static 'js/references.js' %}"></script>

{% endblock %}
